# Makefile.in

.PHONY: all clean

CPP = @CPP@
CPPFLAGS = @CPPFLAGS@
DEFS = @DEFS@

MPIFC = @MPIFC@
FCFLAGS = @FCFLAGS@

include ../global.mk

objects = module_HYDRO_drv.o

all: ../libHYDRO.a

../libHYDRO.a: $(objects)
	ar -r $@ $?

$(objects): %.o: %.f
	$(MPIFC) -o $@ $(FCFLAGS) $(addprefix -I../,Routing MPP Data_Rec) $<

%.f: %.F
	$(CPP) $(CPPFLAGS) $(DEFS) $< > $@

clean:
	rm -f *.o *.mod *.stb *~ *.f
