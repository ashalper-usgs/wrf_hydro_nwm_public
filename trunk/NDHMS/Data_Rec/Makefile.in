# Makefile.in

CPP = @CPP@
CPPFLAGS = $(strip @CPPFLAGS@)
DEFS = @DEFS@

MPIFC = @MPIFC@
FCFLAGS = $(strip @FCFLAGS@)

objects = $(addsuffix .o,\
  module_namelist module_RT_data module_gw_gw2d_data)

all: $(objects)

module_namelist.o: module_namelist.f
	$(MPIFC) -o $@ $(FCFLAGS) -I../MPP $<

module_RT_data.o: module_RT_data.f
	$(MPIFC) -o $@ $(FCFLAGS) -I../Routing/Overland $<

module_gw_gw2d_data.o: module_gw_gw2d_data.f
	$(MPIFC) -o $@ $(FCFLAGS) $<

%.f: %.F
	$(CPP) $(CPPFLAGS) $(DEFS) $< > $@

clean:
	rm -f *.o *.mod *.stb *~ *.f
