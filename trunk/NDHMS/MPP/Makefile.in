# Makefile.in

.PHONY: all clean

CPP = @CPP@
CPPFLAGS = @CPPFLAGS@
DEFS = @DEFS@

MPIFC = @MPIFC@
FCFLAGS = @FCFLAGS@

objects = CPL_WRF.o mpp_land.o module_mpp_ReachLS.o	\
          module_mpp_GWBUCKET.o

all: libMPP.a

libMPP.a: $(objects)
	ar -r $@ $?

$(objects): %.o: %.f
	$(MPIFC) -o $@ $(FCFLAGS) $<

%.f: %.F
	$(CPP) $(CPPFLAGS) $(DEFS) $< > $@

clean:
	rm -f *.o *.mod *.f *.stb *~ libMPP.a
