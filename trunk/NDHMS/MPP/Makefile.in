# Makefile.in

.SUFFIXES:
.SUFFIXES: .o .F

HYDRO_D = @HYDRO_D@

MPIFC = @MPIFC@
# the supplemental flags below might not be necessary for non-gfortran
# pedigree compilers
FCFLAGS = @FCFLAGS@ -w -c -ffree-form
CPP = @CPP@
CPPFLAGS = @CPPFLAGS@

OBJS = CPL_WRF.o mpp_land.o module_mpp_ReachLS.o module_mpp_GWBUCKET.o

all: $(OBJS)

mpp_land.o: mpp_land.F
	$(MPIFC) $(FCFLAGS) $(*).F
# TODO:	ar -r ../lib/libHYDRO.a $(@)

CPL_WRF.o: CPL_WRF.F
	$(CPP) $(CPPFLAGS) $(*).F > $(*).f
	$(MPIFC) -o $(@) $(FCFLAGS) $(*).f
	$(MPIFC) $(FCFLAGS) $(*).F
# TODO:	ar -r ../lib/libHYDRO.a $(@)

module_mpp_ReachLS.o: module_mpp_ReachLS.F
	$(MPIFC) $(FCFLAGS) $(*).F
# TODO:	ar -r ../lib/libHYDRO.a $(@)

module_mpp_GWBUCKET.o: module_mpp_GWBUCKET.F
	$(MPIFC) $(FCFLAGS) $(*).F
# TODO:	ar -r ../lib/libHYDRO.a $(@)

clean:
	rm -f *.o *.mod *.f *.stb *~
