# Makefile 

FC = @FC@
FCFLAGS = @FCFLAGS@

.SUFFIXES:
.SUFFIXES: .o .F

include ../macros

objects = CPL_WRF.o mpp_land.o module_mpp_ReachLS.o module_mpp_GWBUCKET.o

all:	$(objects)

mpp_land.o: mpp_land.F
	$(FC) $(FCFLAGS) $(LDFLAGS) -c $(*).F
	ar -r ../lib/libHYDRO.a $(@)

CPL_WRF.o: CPL_WRF.F
	$(CPP) $(CPPFLAGS) -I$(NETCDFINC) $(*).F > $(*).f
	$(FC) -o $(@) $(FCFLAGS) $(LDFLAGS) $(MODFLAG) $(*).f
	$(FC) $(FCFLAGS) $(LDFLAGS) -c $(*).F
	ar -r ../lib/libHYDRO.a $(@)

module_mpp_ReachLS.o: module_mpp_ReachLS.F
	$(FC) $(FCFLAGS) $(LDFLAGS) -c $(*).F
	ar -r ../lib/libHYDRO.a $(@)

module_mpp_GWBUCKET.o: module_mpp_GWBUCKET.F
	$(FC) $(FCFLAGS) $(LDFLAGS) -c $(*).F
	ar -r ../lib/libHYDRO.a $(@)

clean:
	$(RMD) *.o *.mod *.stb *~
