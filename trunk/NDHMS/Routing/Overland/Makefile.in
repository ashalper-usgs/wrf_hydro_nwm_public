# Makefile.in

# simple compilation test for modules in overland routing

.PHONY: all test clean

FC = @FC@
FFLAGS = @FFLAGS@
FCFLAGS = @FCFLAGS@

objects = \
  $(addsuffix .o,
    $(addprefix module_overland_,control streams_and_lakes	\
	routing_properties mass_balance) module_overland)

all: test

test: overland_tests

$(objects): %.o: %.F
	$(FC) $(FCFLAGS) $<

overland_tests: overland_tests.o $(objects)
	$(FC) $(FCFLAGS) -o overland_tests $(objects) $<

overland_tests.o:
	$(FC) $(FCFLAGS) overland_tests.F

clean:
	rm -f *.o *.mod overland_tests
