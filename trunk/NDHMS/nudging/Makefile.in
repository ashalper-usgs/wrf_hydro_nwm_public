# Makefile 

.SUFFIXES:
.SUFFIXES: .o .F

CPP = @CPP@
CPPFLAGS = @CPPFLAGS@

MPIFC = @MPIFC@

objects = \
	module_date_utils_nudging.o \
	module_stream_nudging.o \
	module_nudging_io.o \
	module_nudging_utils.o

all:	$(objects)

.F.o:
	$(CPP) $(CPPFLAGS) -I$(NETCDFINC) $(*).F > $(*).f
	$(MPIFC) -o $(@) $(FCFLAGS) -I$(NETCDF_INC) $(*).f
	ar -r ../lib/libHYDRO.a $(@)
	cp *.mod ../mod

module_nudging_io.o: ../Data_Rec/module_namelist.o \
	             module_date_utils_nudging.o

module_stream_nudging.o: module_nudging_utils.o \
	      		 module_nudging_io.o

clean:
	rm -f *.o *.mod *.stb *~ *.f
