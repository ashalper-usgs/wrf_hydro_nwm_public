# Makefile.in

CPP = @CPP@
CPPFLAGS = @CPPFLAGS@
DEFS = @DEFS@

MPIFC = @MPIFC@
FCFLAGS = @FCFLAGS@

objects = module_hrldas_HYDRO.o hrldas_drv_HYDRO.o

all: $(objects) 

hrldas_drv_HYDRO.o: module_hrldas_HYDRO.o
	$(MPIFC) -o $@ $(FCFLAGS) $<

module_hrldas_HYDRO.o: ../../MPP/mpp_land.o
	$(MPIFC) -o $@ $(FCFLAGS)

%.f: %.F
	$(CPP) $(CPPFLAGS) $(DEFS) $< > $@

module_hrldas_HYDRO.f: %.F
	$(CPP) $(CPPFLAGS) $(DEFS) $(addprefix -I,$(dir $^)) $< > $@

clean:
	rm -f *.o *.mod *.stb *~ *.f Noah_hrldas_beta
