# Makefile 

.SUFFIXES:
.SUFFIXES: .o .F

CPP = @CPP@
CPPFLAGS = $(strip @CPPFLAGS@)
MPIFC = @MPIFC@
FCFLAGS = $(strip @FCFLAGS@)

CLMOBJPATH = /d1/weiyu/scratch/merra_boulder

CLM_MOD = -I $(CLMOBJPATH)/lnd/obj -I $(CLMOBJPATH)/lib/include

objects = \
	module_clm_HYDRO.o \
	clm_drv_HYDRO.o    

all: $(objects) 

.F.o:
	$(CPP) $(CPPFLAGS) -I$(NETCDFINC) $(*).F > $(*).f
	$(MPIFC) -o $(@) $(FCFLAGS) -I ../../mod $(CLM_MOD) $(*).f

clean:
	rm -f *.o *.mod *.stb *~ *.f
