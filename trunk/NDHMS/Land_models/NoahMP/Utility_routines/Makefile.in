CPP = @CPP@
FC = @FC@
FCFLAGS = @FCFLAGS@

modules = module_date_utilities module_model_constants \
	  module_wrf_utilities kwm_string_utilities

objects = $(addsuffix .o, $(modules))

all: $(objects)

$(objects): %.o: %.f90
	$(FC) $(FCFLAGS) -o $@ -c $<

$(addsuffix .f90, $(modules)): %.f90: %.F
	$(CPP) $(CPPFLAGS) $< > $@

clean:
	rm -f *.o *.mod *.stb *~ *.f90
